package sorting2014;

public class ShellSort implements Sorter {

	@Override
	public void sort(Comparable[] items, int cutoff) {
		shellSort(items);

	}

	private void shellSort(Comparable[] items) {

		 
		
		for (int gap = items.length / 2; gap > 0; ) { //initial gap 1/2 size of the array

			for (int i = gap; i < items.length; i++) { 
				
				Comparable temp = items[i];  //copy the value of the currently compared item

				 volatile int o;
				
				for (o = i; o >= gap; o -= gap) {

					if (temp.compareTo(items[o - gap]) >= 0) {
						break;
					}
					items[o] = items[o - gap];
				}

				items[o] = temp;

			}
			gap = gap == 2 ? 1: (int) ( gap / 2.25 );
		}
	}

}
